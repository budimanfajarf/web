{{ define "head" }}
	{{ if .Site.Params.bgImg -}}
	<style>.bg-img {background-image: url('{{.Site.Params.bgImg}}');}</style>
	{{- else if .Site.Params.images -}}
		{{- range first 1 .Site.Params.images -}}
		<style>.bg-img {background-image: url('{{. | absURL}}');}</style>
		{{- end -}}
	{{- end -}}
{{ end }}

{{ define "main" }}
	{{- if (or .Site.Params.images .Site.Params.bgImg) }}
	<div class="bg-img"></div>
	{{- end }}
	<div id="spotlight" class="animated fadeIn">
		<div id="home-center">
			<div id="home-photo">
				<img src="/images/profile-photo-2-re-medium.png" alt="photo profile">
			</div>
			<h1 id="home-title">Budiman Fajar Firdaus</h1>
			{{- with .Site.Params.homeSubtitle }}
				<p id="home-subtitle"></p>
			{{- end }}
			{{- with .Site.Params.social }}
			<div id="home-social">
				{{ partialCached "social-icons.html" . }}
			</div>
			{{- end }}

			<nav style="display: none;" id="home-nav" class="site-nav">
				{{ partialCached "menu.html" . }}
			</nav>
			
			<div id="home-posts">

				<div class="posts-group">
					<ul class="posts-list">
						{{ range first 3 (where .Paginator.Pages "Section" "posts") }}
						<li class="post-item">
							<a href="{{ .Permalink }}">
								<span class="post-title">{{ .Title }}</span>
								<span class="post-day">
									{{ .PublishDate.Format "Jan 2, 2006" }}	Â· {{ .ReadingTime }} min read
								</span>
							</a>
						</li>
						{{ end }}
					</ul>
				</div>				

				<div class="post-nav">
					<a class="prev-post" href='{{ "posts" | absLangURL }}'>
						<span>See All Posts</span>&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
					</a>
				</div>					

			</div>

		</div>

		<div id="home-footer">
			<p class="home-footer-menu">
				{{ range $i, $menu := .Site.Menus.main }}
					{{ if $i }} &#183; {{ end }}
					<a href="{{ $menu.URL | absLangURL }}">{{ $menu.Name }}</a>					
				{{ end }}
			</p>
			<p>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-coffee"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>
				<span> {{ now.Format "2006" }}</span>
				<a href="{{ .Site.BaseURL }}">
					{{ .Site.Author.username }}
				</a>
				{{ .Site.Params.footerCopyright | safeHTML }}
				{{- with (not (in (.Site.Language.Get "disableKinds") "RSS")) }} &#183; <a href="{{ "posts/index.xml" | absLangURL }}" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>{{ end }}
			</p>
		</div>
		
	</div>

	{{ $typeit := resources.Get "js/typeit.js" | resources.ExecuteAsTemplate "js/typeit.js" . | minify | fingerprint -}}
	<script src="{{ $typeit.Permalink }}" {{ printf "integrity=%q" $typeit.Data.Integrity | safeHTMLAttr }} crossorigin="anonymous"></script>	
	{{ $myTypeit := resources.Get "js/my-typeit.js" | resources.ExecuteAsTemplate "js/my-typeit.js" . | minify | fingerprint -}}
	<script src="{{ $myTypeit.Permalink }}" {{ printf "integrity=%q" $myTypeit.Data.Integrity | safeHTMLAttr }} crossorigin="anonymous"></script>	


	{{ end }}
